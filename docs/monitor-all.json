{
  "title": "Proxmox VE Monitor-All",
  "category": "Proxmox VE Tools",
  "imgSrc": "https://github.com/community-scripts/ProxmoxVE/blob/main/misc/images/monitor.png?raw=true",
  "scripts": [
    "https://github.com/community-scripts/ProxmoxVE/raw/main/misc/monitor-all.sh"
  ],
  "textContent": "\n                \n                Proxmox VE Monitor-All \n                This script will add Monitor-All to Proxmox VE, which will monitor the status of all your instances,\n                both\n                containers and virtual machines, excluding templates and user-defined ones, and automatically restart or\n                reset them if they become unresponsive. This is particularly useful if you're experiencing problems with\n                Home Assistant becoming non-responsive every few days/weeks. Monitor-All also maintains a log of the\n                entire\n                process, which can be helpful for troubleshooting and monitoring purposes.\n                \n                ðŸ›ˆ Virtual machines without the QEMU guest agent installed must be excluded.\n                ðŸ›ˆ Prior to generating any new CT/VM not found in this repository, it's necessary to halt Proxmox VE\n                    Monitor-All by running systemctl stop ping-instances.\n                All commands are run from the Proxmox VE shell..\n                To add or remove Monitor-All in Proxmox VE:\n                Copybash -c \"$(wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/monitor-all.sh)\"\n                \n                \n                To make setup changes, first stop the service: systemctl stop ping-instances\n                To edit pause time:\n                Copynano /usr/local/bin/ping-instances.sh\n                To add excluded instances:\n                Copynano /etc/systemd/system/ping-instances.service\n                After changes have been saved, systemctl daemon-reload and\n                    start\n                    the service: systemctl start ping-instances\n                Monitor-All logs : cat /var/log/ping-instances.log\n            ",
  "outerHTML": "<div class=\"item\">\n                <p align=\"center\"><img src=\"https://github.com/community-scripts/ProxmoxVE/blob/main/misc/images/monitor.png?raw=true\" height=\"100\"></p>\n                <h1 align=\"center\" id=\"heading\">Proxmox VE Monitor-All </h1>\n                This script will add Monitor-All to Proxmox VE, which will monitor the status of all your instances,\n                both\n                containers and virtual machines, excluding templates and user-defined ones, and automatically restart or\n                reset them if they become unresponsive. This is particularly useful if you're experiencing problems with\n                Home Assistant becoming non-responsive every few days/weeks. Monitor-All also maintains a log of the\n                entire\n                process, which can be helpful for troubleshooting and monitoring purposes.<br>\n                <br>\n                <h4>ðŸ›ˆ Virtual machines without the QEMU guest agent installed must be excluded.</h4>\n                <h4>ðŸ›ˆ Prior to generating any new CT/VM not found in this repository, it's necessary to halt Proxmox VE\n                    Monitor-All by running <code class=\"highlighter-rouge\">systemctl stop ping-instances</code>.</h4>\n                <p>All commands are run from the <b>Proxmox VE shell.</b>.</p>\n                <p><b>To add or remove Monitor-All in Proxmox VE:</b></p>\n                <pre><button class=\"copy-button \">Copy</button><div style=\"color: rgb(227, 234, 242); background: rgb(17, 27, 39); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;\"><code class=\"language-bash\" style=\"color: rgb(227, 234, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;\"><span class=\"token\" style=\"color: rgb(198, 153, 227);\">bash</span><span> -c </span><span class=\"token\" style=\"color: rgb(145, 208, 118);\">\"</span><span class=\"token\" style=\"color: rgb(108, 184, 230);\">$(</span><span class=\"token\" style=\"color: rgb(198, 153, 227);\">wget</span><span class=\"token\" style=\"color: rgb(108, 184, 230);\"> -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/misc/monitor-all.sh</span><span class=\"token\" style=\"color: rgb(108, 184, 230);\">)</span><span class=\"token\" style=\"color: rgb(145, 208, 118);\">\"</span></code></div></pre>\n                <br>\n                <br>\n                To make setup changes, first stop the service: <code class=\"highlighter-rouge\">systemctl stop ping-instances</code>\n                <p>To edit pause time:</p>\n                <pre><button class=\"copy-button \">Copy</button><div style=\"color: rgb(227, 234, 242); background: rgb(17, 27, 39); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;\"><code class=\"language-bash\" style=\"color: rgb(227, 234, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;\"><span class=\"token\" style=\"color: rgb(198, 153, 227);\">nano</span><span> /usr/local/bin/ping-instances.sh</span></code></div></pre>\n                <p>To add excluded instances:</p>\n                <pre><button class=\"copy-button \">Copy</button><div style=\"color: rgb(227, 234, 242); background: rgb(17, 27, 39); font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; margin: 0.5em 0px; overflow: auto;\"><code class=\"language-bash\" style=\"color: rgb(227, 234, 242); background: none; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;\"><span class=\"token\" style=\"color: rgb(198, 153, 227);\">nano</span><span> /etc/systemd/system/ping-instances.service</span></code></div></pre>\n                <p>After changes have been saved, <code class=\"highlighter-rouge\">systemctl daemon-reload</code> and\n                    start\n                    the service: <code class=\"highlighter-rouge\">systemctl start ping-instances</code></p>\n                <p>Monitor-All logs : <code class=\"highlighter-rouge\">cat /var/log/ping-instances.log</code></p>\n            </div>",
  "ports": []
}